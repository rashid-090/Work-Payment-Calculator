<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Quotation Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb',
                        secondary: '#1e40af',
                        accent: '#3b82f6',
                        light: '#f8fafc',
                        dark: '#1e293b'
                    }
                }
            }
        }
    </script>
    <style>
        @media print {
            .no-print {
                display: none !important;
            }
            body {
                padding: 0;
                margin: 0;
            }
            .quotation-container {
                box-shadow: none;
                border: none;
                padding: 0;
            }
            .quotation-actions, .header-buttons {
                display: none !important;
            }
        }
        .item-row {
            transition: all 0.3s ease;
        }
        .item-row:hover {
            background-color: #f1f5f9;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-5xl">
        <!-- Header -->
        <header class="bg-white rounded-lg shadow-md p-6 mb-6 flex justify-between items-center">
            <div>
                <h1 class="text-3xl font-bold text-primary">Quotation Generator</h1>
                <p class="text-gray-600">Create professional quotations in minutes</p>
            </div>
            <div class="flex items-center space-x-2">
                <div class="bg-blue-100 p-2 rounded-full">
                    <i class="fas fa-file-invoice text-blue-600 text-2xl"></i>
                </div>
            </div>
        </header>

        <!-- Quotation Form -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-6">
            <h2 class="text-xl font-semibold text-dark mb-4 border-b pb-2">Company Information</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                <!-- From Company Details -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-primary mb-3 flex items-center">
                        <i class="fas fa-building mr-2"></i> From (Your Company)
                    </h3>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Company Name</label>
                            <input type="text" id="fromCompany" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="Enter company name">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Address</label>
                            <textarea id="fromAddress" rows="2" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="Full address"></textarea>
                        </div>
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">City</label>
                                <input type="text" id="fromCity" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="City">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Zip Code</label>
                                <input type="text" id="fromZip" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="Postal code">
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                <input type="email" id="fromEmail" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="company@example.com">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                <input type="tel" id="fromPhone" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="+1 (234) 567-890">
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- To Company Details -->
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h3 class="text-lg font-medium text-primary mb-3 flex items-center">
                        <i class="fas fa-user mr-2"></i> To (Client Details)
                    </h3>
                    <div class="space-y-3">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Client/Company Name</label>
                            <input type="text" id="toCompany" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="Enter client name">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Address</label>
                            <textarea id="toAddress" rows="2" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="Full address"></textarea>
                        </div>
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">City</label>
                                <input type="text" id="toCity" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="City">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Zip Code</label>
                                <input type="text" id="toZip" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="Postal code">
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                <input type="email" id="toEmail" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="client@example.com">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                <input type="tel" id="toPhone" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="+1 (234) 567-890">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Quotation Details -->
            <h2 class="text-xl font-semibold text-dark mb-4 border-b pb-2">Quotation Details</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Quotation Number</label>
                    <input type="text" id="quotationNumber" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="Q-2023-001">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                    <input type="date" id="quotationDate" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Valid Until</label>
                    <input type="date" id="validUntil" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                </div>
            </div>
            
            <!-- Items Table -->
            <h2 class="text-xl font-semibold text-dark mb-4 border-b pb-2">Items</h2>
            <div class="mb-6 overflow-x-auto">
                <table class="w-full table-auto">
                    <thead>
                        <tr class="bg-gray-100 text-left">
                            <th class="px-4 py-2">Description</th>
                            <th class="px-4 py-2 w-24">Quantity</th>
                            <th class="px-4 py-2 w-32">Unit Price</th>
                            <th class="px-4 py-2 w-32">Total</th>
                            <th class="px-4 py-2 w-16">Action</th>
                        </tr>
                    </thead>
                    <tbody id="itemsList">
                        <tr class="item-row border-b">
                            <td class="px-4 py-3"><input type="text" class="w-full px-2 py-1 border rounded description" placeholder="Item description"></td>
                            <td class="px-4 py-3"><input type="number" min="1" value="1" class="w-full px-2 py-1 border rounded quantity" placeholder="Qty"></td>
                            <td class="px-4 py-3"><input type="number" min="0" step="0.01" value="0.00" class="w-full px-2 py-1 border rounded price" placeholder="Price"></td>
                            <td class="px-4 py-3 total">0.00</td>
                            <td class="px-4 py-3 text-center"><button class="text-red-500 delete-item"><i class="fas fa-trash"></i></button></td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="mt-4">
                    <button id="addItem" class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md flex items-center">
                        <i class="fas fa-plus mr-2"></i> Add Item
                    </button>
                </div>
            </div>
            
            <!-- Totals -->
            <div class="flex justify-end mb-6">
                <div class="w-full md:w-1/3">
                    <div class="flex justify-between py-2">
                        <span class="font-medium">Subtotal:</span>
                        <span id="subtotal">0.00</span>
                    </div>
                    <div class="flex justify-between py-2">
                        <span class="font-medium">Tax Rate (%):</span>
                        <div class="w-20">
                            <input type="number" id="taxRate" min="0" max="30" value="0" class="w-full px-2 py-1 border rounded">
                        </div>
                    </div>
                    <div class="flex justify-between py-2">
                        <span class="font-medium">Tax Amount:</span>
                        <span id="taxAmount">0.00</span>
                    </div>
                    <div class="flex justify-between py-3 border-t font-bold text-lg">
                        <span>Total:</span>
                        <span id="totalAmount">0.00</span>
                    </div>
                </div>
            </div>
            
            <!-- Notes -->
            <div class="mb-6">
                <label class="block text-sm font-medium text-gray-700 mb-1">Notes</label>
                <textarea id="notes" rows="3" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none" placeholder="Terms and conditions, payment details, etc."></textarea>
            </div>
            
            <!-- Actions -->
            <div class="flex justify-end space-x-4">
                <button id="previewQuotation" class="bg-blue-500 hover:bg-blue-600 text-white py-2 px-6 rounded-md flex items-center">
                    <i class="fas fa-eye mr-2"></i> Preview
                </button>
                <button id="printQuotation" class="bg-green-500 hover:bg-green-600 text-white py-2 px-6 rounded-md flex items-center">
                    <i class="fas fa-print mr-2"></i> Print
                </button>
                <button id="saveQuotation" class="bg-purple-500 hover:bg-purple-600 text-white py-2 px-6 rounded-md flex items-center">
                    <i class="fas fa-save mr-2"></i> Save
                </button>
            </div>
        </div>
        
        <!-- Preview Section -->
        <div id="previewSection" class="bg-white rounded-lg shadow-md p-8 mb-6 hidden quotation-container">
            <div class="flex justify-between items-start mb-8">
                <div>
                    <h1 class="text-2xl font-bold text-primary" id="previewFromCompany">Your Company Name</h1>
                    <p class="text-gray-600" id="previewFromAddress">123 Business Rd, City, State 12345</p>
                    <p class="text-gray-600" id="previewFromContact">Email: company@example.com | Phone: +1 (234) 567-890</p>
                </div>
                <div class="text-right">
                    <h2 class="text-3xl font-bold text-blue-600">QUOTATION</h2>
                    <p class="text-gray-600 mt-2">#<span id="previewQuotationNumber">Q-2023-001</span></p>
                    <p class="text-gray-600">Date: <span id="previewDate">01/01/2023</span></p>
                </div>
            </div>
            
            <div class="flex justify-between mb-8">
                <div class="bg-blue-50 p-4 rounded-lg w-1/2">
                    <h3 class="font-semibold text-blue-700">Bill To:</h3>
                    <p class="font-medium mt-1" id="previewToCompany">Client Company Name</p>
                    <p class="text-gray-600" id="previewToAddress">456 Client Ave, City, State 12345</p>
                    <p class="text-gray-600" id="previewToContact">Email: client@example.com | Phone: +1 (234) 567-890</p>
                </div>
                <div class="text-right">
                    <p class="text-gray-600">Valid Until: <span id="previewValidUntil">01/31/2023</span></p>
                </div>
            </div>
            
            <table class="w-full table-auto mb-8">
                <thead>
                    <tr class="bg-gray-100 text-left">
                        <th class="px-4 py-2">Description</th>
                        <th class="px-4 py-2 text-right">Quantity</th>
                        <th class="px-4 py-2 text-right">Unit Price</th>
                        <th class="px-4 py-2 text-right">Total</th>
                    </tr>
                </thead>
                <tbody id="previewItemsList">
                    <!-- Items will be added here dynamically -->
                </tbody>
            </table>
            
            <div class="flex justify-end mb-8">
                <div class="w-full md:w-1/3">
                    <div class="flex justify-between py-2">
                        <span class="font-medium">Subtotal:</span>
                        <span id="previewSubtotal">0.00</span>
                    </div>
                    <div class="flex justify-between py-2">
                        <span class="font-medium">Tax (<span id="previewTaxRate">0</span>%):</span>
                        <span id="previewTaxAmount">0.00</span>
                    </div>
                    <div class="flex justify-between py-3 border-t font-bold text-lg">
                        <span>Total:</span>
                        <span id="previewTotalAmount">0.00</span>
                    </div>
                </div>
            </div>
            
            <div class="mt-8 pt-6 border-t">
                <h3 class="font-semibold text-gray-700">Notes:</h3>
                <p class="text-gray-600 whitespace-pre-line" id="previewNotes">Terms and conditions, payment details, etc.</p>
            </div>
        </div>
        
        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm mt-8 pb-4">
            <p>© 2023 Quotation Generator. All rights reserved.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date as default
            const today = new Date();
            const formattedDate = today.toISOString().split('T')[0];
            document.getElementById('quotationDate').value = formattedDate;
            
            // Set valid until date (30 days from now)
            const validUntil = new Date();
            validUntil.setDate(today.getDate() + 30);
            document.getElementById('validUntil').value = validUntil.toISOString().split('T')[0];
            
            // Generate a random quotation number
            document.getElementById('quotationNumber').value = 'Q-' + today.getFullYear() + '-' + Math.floor(1000 + Math.random() * 9000);
            
            // Add item row
            document.getElementById('addItem').addEventListener('click', addItemRow);
            
            // Calculate totals when any input changes
            document.querySelectorAll('#itemsList input').forEach(input => {
                input.addEventListener('input', calculateTotals);
            });
            
            // Delete item row
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('delete-item') || e.target.closest('.delete-item')) {
                    const row = e.target.closest('tr');
                    if (document.querySelectorAll('.item-row').length > 1) {
                        row.remove();
                        calculateTotals();
                    }
                }
            });
            
            // Preview quotation
            document.getElementById('previewQuotation').addEventListener('click', previewQuotation);
            
            // Print quotation
            document.getElementById('printQuotation').addEventListener('click', function() {
                previewQuotation();
                setTimeout(() => {
                    window.print();
                }, 500);
            });
            
            // Save quotation (demo functionality)
            document.getElementById('saveQuotation').addEventListener('click', function() {
                previewQuotation();
                alert('Quotation saved successfully! In a real application, this would save to a database or download as PDF.');
            });
            
            // Tax rate change
            document.getElementById('taxRate').addEventListener('input', calculateTotals);
            
            // Initialize with one empty row
            addItemRow();
        });
        
        function addItemRow() {
            const newRow = document.createElement('tr');
            newRow.className = 'item-row border-b';
            newRow.innerHTML = `
                <td class="px-4 py-3"><input type="text" class="w-full px-2 py-1 border rounded description" placeholder="Item description"></td>
                <td class="px-4 py-3"><input type="number" min="1" value="1" class="w-full px-2 py-1 border rounded quantity" placeholder="Qty"></td>
                <td class="px-4 py-3"><input type="number" min="0" step="0.01" value="0.00" class="w-full px-2 py-1 border rounded price" placeholder="Price"></td>
                <td class="px-4 py-3 total">0.00</td>
                <td class="px-4 py-3 text-center"><button class="text-red-500 delete-item"><i class="fas fa-trash"></i></button></td>
            `;
            document.getElementById('itemsList').appendChild(newRow);
            
            // Add event listeners to new inputs
            newRow.querySelectorAll('input').forEach(input => {
                input.addEventListener('input', calculateTotals);
            });
            
            calculateTotals();
        }
        
        function calculateTotals() {
            let subtotal = 0;
            
            document.querySelectorAll('.item-row').forEach(row => {
                const quantity = parseFloat(row.querySelector('.quantity').value) || 0;
                const price = parseFloat(row.querySelector('.price').value) || 0;
                const total = quantity * price;
                
                row.querySelector('.total').textContent = total.toFixed(2);
                subtotal += total;
            });
            
            const taxRate = parseFloat(document.getElementById('taxRate').value) || 0;
            const taxAmount = subtotal * (taxRate / 100);
            const totalAmount = subtotal + taxAmount;
            
            document.getElementById('subtotal').textContent = subtotal.toFixed(2);
            document.getElementById('taxAmount').textContent = taxAmount.toFixed(2);
            document.getElementById('totalAmount').textContent = totalAmount.toFixed(2);
        }
        
        function previewQuotation() {
            // Update from details
            document.getElementById('previewFromCompany').textContent = document.getElementById('fromCompany').value || 'Your Company Name';
            document.getElementById('previewFromAddress').textContent = 
                [document.getElementById('fromAddress').value, document.getElementById('fromCity').value, document.getElementById('fromZip').value]
                .filter(Boolean).join(', ') || '123 Business Rd, City, State 12345';
            document.getElementById('previewFromContact').textContent = 
                `Email: ${document.getElementById('fromEmail').value || 'company@example.com'} | Phone: ${document.getElementById('fromPhone').value || '+1 (234) 567-890'}`;
            
            // Update to details
            document.getElementById('previewToCompany').textContent = document.getElementById('toCompany').value || 'Client Company Name';
            document.getElementById('previewToAddress').textContent = 
                [document.getElementById('toAddress').value, document.getElementById('toCity').value, document.getElementById('toZip').value]
                .filter(Boolean).join(', ') || '456 Client Ave, City, State 12345';
            document.getElementById('previewToContact').textContent = 
                `Email: ${document.getElementById('toEmail').value || 'client@example.com'} | Phone: ${document.getElementById('toPhone').value || '+1 (234) 567-890'}`;
            
            // Update quotation details
            document.getElementById('previewQuotationNumber').textContent = document.getElementById('quotationNumber').value || 'Q-2023-001';
            
            const date = new Date(document.getElementById('quotationDate').value);
            document.getElementById('previewDate').textContent = date.toLocaleDateString() || new Date().toLocaleDateString();
            
            const validDate = new Date(document.getElementById('validUntil').value);
            document.getElementById('previewValidUntil').textContent = validDate.toLocaleDateString() || new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toLocaleDateString();
            
            // Update items
            const previewItemsList = document.getElementById('previewItemsList');
            previewItemsList.innerHTML = '';
            
            document.querySelectorAll('.item-row').forEach(row => {
                const description = row.querySelector('.description').value || 'Item description';
                const quantity = parseFloat(row.querySelector('.quantity').value) || 0;
                const price = parseFloat(row.querySelector('.price').value) || 0;
                const total = quantity * price;
                
                const itemRow = document.createElement('tr');
                itemRow.className = 'border-b';
                itemRow.innerHTML = `
                    <td class="px-4 py-3">${description}</td>
                    <td class="px-4 py-3 text-right">${quantity}</td>
                    <td class="px-4 py-3 text-right">${price.toFixed(2)}</td>
                    <td class="px-4 py-3 text-right">${total.toFixed(2)}</td>
                `;
                previewItemsList.appendChild(itemRow);
            });
            
            // Update totals
            const subtotal = parseFloat(document.getElementById('subtotal').textContent) || 0;
            const taxRate = parseFloat(document.getElementById('taxRate').value) || 0;
            const taxAmount = parseFloat(document.getElementById('taxAmount').textContent) || 0;
            const totalAmount = parseFloat(document.getElementById('totalAmount').textContent) || 0;
            
            document.getElementById('previewSubtotal').textContent = subtotal.toFixed(2);
            document.getElementById('previewTaxRate').textContent = taxRate;
            document.getElementById('previewTaxAmount').textContent = taxAmount.toFixed(2);
            document.getElementById('previewTotalAmount').textContent = totalAmount.toFixed(2);
            
            // Update notes
            document.getElementById('previewNotes').textContent = document.getElementById('notes').value || 'Terms and conditions, payment details, etc.';
            
            // Show preview section
            document.getElementById('previewSection').classList.remove('hidden');
            
            // Scroll to preview
            document.getElementById('previewSection').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>